; Misc memory management functions for kernel.
var ga 3
var gb 10
var gc 0
var gd 0
var gr 0

jmp end

k.higher:
	equ gb 0 k.high_secondHigher
	equ ga 0 k.high_firstHigher
	sub ga 1
	sub gb 1
	jmp k.higher

	k.high_firstHigher:
		set gr 2
	ret

	k.high_secondHigher:
	set gr 1
ret

; Input: gc = char
; Check (a >= '0' && a <= '9')
isDigit:
	; above '0'
	set ga gc
	set gb '0'
	run k.higher
	equ gr 2 isDigit_no

	; Check below '9'
	set ga gc
	set gb '9'
	add gb 1
	run k.higher
	equ gr 1 isDigit_no
jmp isDigit_yes

isDigit_no:
	set gr 0
ret

isDigit_yes:
	set gr 1
ret

; Input: gc = char
; Check (a >= '0' && a <= '9')
isAlpha:
	; above 'A'
	set ga gc
	set gb 'A'
	run k.higher
	equ gr 2 isDigit_no

	; Check below 'Z'
	set ga gc
	set gb 'Z'
	add gb 1
	run k.higher
	equ gr 1 isDigit_no

jmp isAlpha_yes

isAlpha_no:
	set gr 0
ret

isAlpha_yes:
	set gr 1
ret

end:
run k.higher
add gr '0'
prt gr
